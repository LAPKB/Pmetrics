<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data objects • Pmetrics</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="data_files/libs/quarto-html/popper.min.js"></script><script src="data_files/libs/quarto-html/tippy.umd.min.js"></script><link href="data_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="data_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link rel="stylesheet" href="Styles/style.css">
<!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Data objects">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Pmetrics</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/pmetrics.html">Start Here</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/intro.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/workflow.html">Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/data.html">Data Objects</a></li>
    <li><a class="dropdown-item" href="../articles/models.html">Model Objects</a></li>
    <li><a class="dropdown-item" href="../articles/running.html">Running the fit</a></li>
    <li><a class="dropdown-item" href="../articles/objects.html">Created Objects</a></li>
    <li><a class="dropdown-item" href="../articles/simulation.html">Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/pta.html">Probability of Target Attainment</a></li>
    <li><a class="dropdown-item" href="../articles/plotly.html">Plotly plots</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LAPKB/Pmetrics_rust/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Data objects</h1>




      <small class="dont-index">Source: <a href="https://github.com/LAPKB/Pmetrics_rust/blob/main/vignettes/data.qmd" class="external-link"><code>vignettes/data.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <section class="level2" data-number="1"><h2 data-number="1" id="introduction">
<span class="header-section-number">1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><a href="#examples">Jump to examples</a></p>
<p><strong>Pmetrics always needs data and a model to run.</strong> Pmetrics data objects are typically read into memory from files. Although the file format is usually comma-separated (.csv), it is possible to use other separators, like the semicolon, by setting the appropriate argument with <a href="https://lapkb.github.io/Pmetrics/reference/setPMoptions.html" class="external-link"><code>setPMoptions</code></a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/setPMoptions.html">setPMoptions</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Choose "Data File Reading"</span></span>
<span><span class="co"># Changes field separator to ";" from default ","</span></span>
<span><span class="co"># and decimal mark from "." to ","</span></span></code></pre></div>
</div>
<p>Examples of programs that can save .csv files are any text editor (e.g. TextEdit on Mac, Notepad on Windows) or spreadsheet program (e.g. Excel).</p>
<p>It is possible to create a data object in R directly, without reading a file. This is useful for simulation purposes, where you may want to create a small dataset on the fly. We’ll cover this below.</p>
</section><section class="level2" data-number="2"><h2 data-number="2" id="r6-objects">
<span class="header-section-number">2</span> R6 objects<a class="anchor" aria-label="anchor" href="#r6-objects"></a>
</h2>
<p>Most Pmetrics objects, including data, follow the <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> framework. The idea of this object is to represent a dataset that is going to be modeled/simulated. All its behaviour is represented by the class <a href="https://lapkb.github.io/Pmetrics/reference/PM_data.html" class="external-link"><code>PM_data</code></a>. This class allows datasets to be checked, plotted, written to disk and more. Use <code>PM_data$new("filename")</code> to create a <code>PM_data</code> object by reading the file.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># assume that data.csv is in the working directory</span></span>
<span><span class="va">data1</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/PM_data.html">PM_data</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"data.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>You can also build an appropriate data frame in R and provide that as an argument to <code>PM_data$new()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># assume df is data frame with at least these columns:</span></span>
<span><span class="co"># id, time, dose, out</span></span>
<span><span class="va">data1</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/PM_data.html">PM_data</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Lastly, you can take advantage of the <code>addEvent</code> method in <code>PM_data</code> objects to build a data object on the fly. This can be particularly useful for making quick simulation templates. Start with an empty call to <code>PM_data$new()</code> and add successive rows. See <a href="https://lapkb.github.io/Pmetrics/reference/PM_data.html" class="external-link"><code>PM_data</code></a> for details under the <code>addEvent</code> method.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/PM_data.html">PM_data</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">$</span></span>
<span>    <span class="fu">addEvent</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span>, time <span class="op">=</span> <span class="fl">0</span>, dose <span class="op">=</span> <span class="fl">100</span>, addl <span class="op">=</span> <span class="fl">5</span>, ii <span class="op">=</span> <span class="fl">24</span><span class="op">)</span><span class="op">$</span></span>
<span>    <span class="fu">addEvent</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span>, time <span class="op">=</span> <span class="fl">144</span>, out <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">$</span></span>
<span>    <span class="fu">addEvent</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span>, wt <span class="op">=</span> <span class="fl">75</span>, validate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<p><em>Notes on the above statements:</em></p>
<ol type="1">
<li>Lack of time element in the last <code>addEvent</code> will add <em>wt=75</em> to all rows for id = 1</li>
<li>Use <code>validate = TRUE</code> as an argument in the last <code>addEvent</code> to finalize creation</li>
<li>You can chain <code>addEvent</code> as shown above by including the <code>$</code> between events.</li>
</ol>
<p><em>Advanced concept</em>: For those familiar with <a href="https://tidyverse.org" class="external-link">tidyverse</a> or the native R pipe to join functions (“%&gt;%” or “|&gt;”, respectively), chaining in R6 is similar but restricted to methods defined for the object. In this case we chain the <code>addEvent</code> methods. We could even chain an additional <code>PM_data</code> method like <code>$plot()</code> at the end of the above code. However, that would create <code>dat</code> as a plotly plot object, not a <code>PM_data</code> one.</p>
<p>Below you see the data standardization and validation reports that are generated when you create a new <code>PM_data</code> object, and the output of typing <code>dat$data</code> and <code>dat$standard_data</code> look like in the viewer. The former is your original data, and the latter is what it looks like after standardization to the full Pmetrics format.</p>
<div class="cell">
<pre><code><span><span class="co">#&gt;</span></span>
<span><span class="co">#&gt; ── DATA STANDARDIZATION ────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; EVID inferred as 0 for observations, 1 for doses.</span></span>
<span><span class="co">#&gt;  All doses assumed to be oral (DUR = 0).</span></span>
<span><span class="co">#&gt;  ADDL set to missing for all records.</span></span>
<span><span class="co">#&gt;  II set to missing for all records.</span></span>
<span><span class="co">#&gt;  All doses assumed to be INPUT = 1.</span></span>
<span><span class="co">#&gt;  All observations assumed to be OUTEQ = 1.</span></span>
<span><span class="co">#&gt;  All observations assumed to be uncensored.</span></span>
<span><span class="co">#&gt;  One or more error coefficients not specified. Error in model object will be used.</span></span>
<span><span class="co">#&gt;</span></span>
<span><span class="co">#&gt; ── DATA VALIDATION ─────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; No data errors found.</span></span></code></pre>
<div class="cell-output-display">
<table class="table caption-top">
<thead><tr class="header">
<th style="text-align: right;">id</th>
<th style="text-align: right;">time</th>
<th style="text-align: right;">dose</th>
<th style="text-align: right;">out</th>
<th style="text-align: right;">wt</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">144</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">75</td>
</tr>
</tbody>
</table>
</div>
<div class="cell-output-display">
<table class="table caption-top" style="width:100%;">
<colgroup>
<col style="width: 4%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 9%">
<col style="width: 6%">
<col style="width: 9%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
</colgroup>
<thead><tr class="header">
<th style="text-align: right;">id</th>
<th style="text-align: right;">evid</th>
<th style="text-align: right;">time</th>
<th style="text-align: right;">dur</th>
<th style="text-align: right;">dose</th>
<th style="text-align: left;">addl</th>
<th style="text-align: left;">ii</th>
<th style="text-align: right;">input</th>
<th style="text-align: right;">out</th>
<th style="text-align: right;">outeq</th>
<th style="text-align: left;">cens</th>
<th style="text-align: left;">c0</th>
<th style="text-align: left;">c1</th>
<th style="text-align: left;">c2</th>
<th style="text-align: left;">c3</th>
<th style="text-align: right;">wt</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">100</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">75</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">144</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">none</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">75</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Once you have created the <code>PM_data</code> object, you never need to create it again during your R session. You also don’t have to bother copying the data file to the Runs folder each time you run the model, like you used to do with older <strong>(“Legacy”)</strong> versions of Pmetrics. The data are stored in memory and can be used in any Pmetrics function that needs it.</p>
</section><section class="level2" data-number="3"><h2 data-number="3" id="data-format">
<span class="header-section-number">3</span> Data format<a class="anchor" aria-label="anchor" href="#data-format"></a>
</h2>
<p>R6 Pmetrics can use file or data frame input. The format is very flexible. The only required columns are those below. Unlike Legacy Pmetrics, there are no requirements for a header or to prefix the ID column with “#”. However, any subsequent row that begins with “#” will be ignored, which is helpful if you want to exclude data from the analysis, but preserve the integrity of the original dataset, or to add comment lines. The column order can be anything you wish, but the names should be the same as below. Ultimately, <code>PM_data$new()</code> converts all valid data into a standardized format, which is the same as used in Legacy Pmetrics.</p>
<ul>
<li><p><span id="data-id"><strong><em>ID</em></strong></span> This field can be numeric or character and identifies each individual. All rows must contain an ID, and all records from one individual must be contiguous. IDs may be any alphanumeric combination. The number of subjects is unlimited.</p></li>
<li><p><span id="data-time"><strong><em>TIME</em></strong></span> This is the elapsed time in decimal hours since the first event, which is always <code>TIME  = 0</code>, unless you specify <code>TIME</code> as clock time. In that case, you must nclude a <code>DATE</code> column, described below. For clock time, the default format is HH:MM. Other formats can be specified. See <a href="https://lapkb.github.io/Pmetrics/reference/PM_data.html" class="external-link"><code>PM_data</code></a> for more details. Every row must have an entry, and within a given ID, rows must be sorted chronologically, earliest to latest.</p></li>
<li><p><span id="data-date"><strong><em>DATE</em></strong></span> This column is only required if <code>TIME</code> is clock time, detected by the presence of “:”. The default format of the date column is YYYY-MM-DD. As for <code>TIME</code>, other formats can be specified. See <a href="https://lapkb.github.io/Pmetrics/reference/PM_data.html" class="external-link"><code>PM_data</code></a> for more details.</p></li>
<li><p><span id="data-dose"><strong><em>DOSE</em></strong></span> This is the dose amount. It should be “.” for observation rows. All sujects must have a dose event at time 0, which is the first row for that subject. The dose amount can be any numeric value, including 0. If the dose is an infusion, the <code>DUR</code> column must also be included. In other software packages, <code>DOSE</code> is equivalent to <code>AMT</code>.</p></li>
<li><p><span id="data-out"><strong><em>OUT</em></strong></span> This is the observation, or output value, and it is always required. If <code>EVID = 0</code>, there must be an entry. For such events, if the observation is missing, e.g. a sample was lost or not obtained, this must be coded as -99. It will be ignored for any other <code>EVID</code> and therefore should be “.”. <code>OUT</code> can be coded as <code>DV</code> in other software packages. When <code>OUT = -99</code>, this is equivalent to <code>MDV = 1</code>, or missing dependent variable in other packages, but Pmetrics does not use <code>MDV</code>.</p></li>
<li><p><span id="data-cov"><strong><em>COVARIATES…</em></strong></span> Any column named other than above is assumed to be a covariate, one column per covariate. The first row for any subject must have a value for all covariates, since the first row is always a dose. <strong>Covariates are handled differently than in Legacy Pmetrics.</strong> In Legacy, they were only considered at the times of dose events (<code>EVID = 1</code> or <code>EVID = 4</code>). In <em>Pmetrics 3.0</em> and later, they are considered at all times, including observation events (<code>EVID = 0</code>). Therefore, to enter a new covariate value at a time other than a dose or an observation, create a row at the appropriate time (and possibly date if using clock/calendar), making the row either a dose row with <code>DOSE = 0</code> or an observation row with <code>OUT = -99</code> (missing). By default, covariate values are linearly interpolated between entries. This is useful for covariates like weight, which may vary from measurement to measurement. You can change this behavior in the model definition to make them piece-wise constant, i.e. carried forward from the previous value until a new value causes an instant change. This could be used, for example, to indicate periods of off and on dialysis. See the chapter on Models for more details.</p></li>
</ul>
<p>When <code>PM_data</code> reads a file, it will standardize it to the format below. This means some inferences are made. For example, in the absence of <code>EVID</code>, all doses are interpreted as oral. If they are infusions, <code>DUR</code> must be included to indicate the duration of the infusion. <code>EVID</code> only needs to be included if <code>EVID=4</code> (reset event) is required, described below. Similarly, <code>INPUT</code> and <code>OUTEQ</code> are only required if multiple inputs or outputs are being modeled. Lastly, <code>ADDL</code> and <code>II</code> are optional.</p>
<p>Lastly, the standardized data are checked for errors and if found, Pmetrics generates a report with the errors and will attempt to fix those that it can.</p>
<section class="level3" data-number="3.1"><h3 data-number="3.1" id="standardized-data">
<span class="header-section-number">3.1</span> Standardized Data<a class="anchor" aria-label="anchor" href="#standardized-data"></a>
</h3>
<p>The order, capitalization and names of the header and the first 13 columns are fixed. All entries must be numeric, with the exception of <code>ID</code> and “.” for non-required placeholder entries. Any subsequent row that begins with “#” will be ignored, as above.</p>
<p>A full example data file is below, with details following.</p>
<table class="table caption-top">
<colgroup>
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 3%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 6%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">ID</th>
<th style="text-align: right;">EVID</th>
<th style="text-align: right;">TIME</th>
<th style="text-align: right;">DUR</th>
<th style="text-align: right;">DOSE</th>
<th style="text-align: right;">ADDL</th>
<th style="text-align: right;">II</th>
<th style="text-align: right;">INPUT</th>
<th style="text-align: left;">OUT</th>
<th style="text-align: right;">OUTEQ</th>
<th style="text-align: left;">CENS</th>
<th style="text-align: right;">C0</th>
<th style="text-align: right;">C1</th>
<th style="text-align: right;">C2</th>
<th style="text-align: right;">C3</th>
<th style="text-align: right;">COV</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">GH</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">400</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">10.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">GH</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">0.42</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">none</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GH</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">0.46</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">none</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">GH</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">2.47</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">none</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GH</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">150</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">GH</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3.50</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">150</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GH</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5.12</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">0.55</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">none</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">GH</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">24.00</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">0.52</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">none</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1423</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">400</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">34.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">1423</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">100</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1423</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">-99</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">none</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">1423</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">0.38</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">none</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1423</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">1.6</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">none</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">-0.11</td>
<td style="text-align: right;">0.002</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>
<ul>
<li><p><strong><em>ID</em></strong> See <a href="#data-id">above</a>.</p></li>
<li>
<p><strong><em>EVID</em></strong> This is the event ID field. It can be 0, 1, or 4. It is only required if <code>EVID = 4</code> is included in the data, in which case every row must have an entry. If there are no <code>EVID = 4</code> events, the entire <code>EVID</code> column can be omitted from the data.</p>
<ul>
<li><p>0 = observation</p></li>
<li><p>1 = input (e.g. dose)</p></li>
<li><p>2, 3 are currently unused</p></li>
<li><p>4 = reset, where all compartment values are set to 0 and the time counter is reset to 0. This is useful when an individual has multiple sampling episodes that are widely spaced in time with no new information gathered. This is a dose event, so dose information needs to be complete. The <code>TIME</code> value for <code>EVID = 4</code> should be 0, and subsequent rows should increase monotonically from 0 until the last record or until another <code>EVID = 4</code> event, which will restart time at 0.</p></li>
</ul>
</li>
<li><p><strong><em>TIME</em></strong> See <a href="#data-time">above</a>.</p></li>
<li><p><strong><em>DATE</em></strong> See <a href="#data-date">above</a>.</p></li>
<li><p><strong><em>DUR</em></strong> This is the duration of an infusion in hours. If <code>EVID = 0</code> (observation event), <code>DUR</code> is ignored and should have a “.” placeholder. For a bolus (e.g. an oral dose), set the value equal to 0. As mentioned above, if all doses are oral, <code>DUR</code> can be omitted from the data altogether. Some other packages use <code>RATE</code> instead of <code>DUR</code>, but of course, one can convert rate to duration with <code>DUR = DOSE / RATE</code>.</p></li>
<li><p><strong><em>DOSE</em></strong> See <a href="#data-dose">above</a>.</p></li>
<li><p><strong><em>ADDL</em></strong> This specifies the number of additional doses to give at interval <code>II</code>. <code>ADDL</code> can be positive or negative. If positive, it is the number of doses to give after the dose at time 0. If negative, it is the number of doses to give before the dose at time 0. It may be missing (“.”) for dose events (<code>EVID = 1</code> or <code>EVID = 4</code>), in which case it is assumed to be 0. It is ignored for observation (<code>EVID = 0</code>) events. Be sure to adjust the time entry for the subsequent row, if necessary, to account for the extra doses. All compartments in the model will contain the predicted amounts of drug at the end of the <code>II</code> interval after the last <code>ADDL</code> dose.</p></li>
<li><p><strong><em>II</em></strong> This is the interdose interval and is only relevant if <code>ADDL</code> is not equal to 0, in which case <code>II</code> cannot be missing. If <code>ADDL = 0</code> or is missing, <code>II</code> is ignored.</p></li>
<li><p><strong><em>INPUT</em></strong> This defines which input (i.e. drug) the <code>DOSE</code> corresponds to. The model defines which compartments receive the input(s). If only modeling one drug, <code>INPUT</code> is unnecessary, as all values will be assumed to be 1. Other packages may use <code>CMT</code> for compartment for both inputs and outputs. It is necessary to separate these in Pmetrics and for outputs, designate the corresponding model input number with <code>INPUT</code> (e.g. RATEIV[x] or B[x] for infusions and boluses in the model object), not the compartment.</p></li>
<li><p><strong><em>OUT</em></strong> See <a href="#data-out">above</a>.</p></li>
<li><p><strong><em>OUTEQ</em></strong> This is the output equation number that corresponds to the <code>OUT</code> value. Output equations are defined in the model file. If only modeling one output, this column is unnecessary, as all values are assumed to be 1. As discussed in <code>INPUT</code>, other packages may use <code>CMT</code> for compartment for both inputs and outputs. It is necessary to separate these in Pmetrics and for outputs, designate the corresponding model output equation number with <code>OUTEQ</code>, not the compartment.</p></li>
<li>
<p><strong><em>CENS</em></strong> This is a new column as of Pmetrics 3.0.0. It indicates whether the observation is censored, i.e. below a lower limit of quantification or above an upper limit . It can take on four values:</p>
<ul>
<li><p>Missing for dose events which are not observations. Use a “.” as a placeholder in your data file.</p></li>
<li><p>0 = not censored</p></li>
<li><p>1 = left censored (below lower limit of quantification)</p></li>
<li><p>2 = right censored (above upper limit of quantification)</p></li>
</ul>
<p>If there are no censored observations, the entire <code>CENS</code> column can be omitted from the data. In data fitting, left censored observations are handled using the M3 method described by Beal <span class="citation" data-cites="bealWaysFitPK2001a">(<a href="#ref-bealWaysFitPK2001a" role="doc-biblioref">Beal 2001</a>)</span>. Right censored observations are handled similarly, but using the complementary probability. The value in the <code>OUT</code> column is the censoring lower limit of quantification (LLOQ) for left censored observations. It is the upper limit of quantification (ULOQ) for right censored observations. For uncensored observations, <code>OUT</code> is the observed value as usual.</p>
</li>
<li><p><strong><em>C0, C1, C2, C3</em></strong> These are the coefficients for the assay error polynomial for that observation. Each subject may have up to one set of coefficients per output equation. If more than one set is detected for a given subject and output equation, the last set will be used. If there are no available coefficients, these cells may be omitted. If they are included, for events which are not observations, they can be filled with “.” as a placeholder. In data fitting, if the coefficients are present in the data file, Pmetrics will use them. If missing, Pmetrics will look for coefficients defined in the model.</p></li>
<li><p><strong><em>COVARIATES</em></strong>… See <a href="#data-cov">above</a>.</p></li>
</ul></section></section><section class="level2" data-number="4"><h2 data-number="4" id="manipulation-of-csv-files">
<span class="header-section-number">4</span> Manipulation of CSV files<a class="anchor" aria-label="anchor" href="#manipulation-of-csv-files"></a>
</h2>
<section class="level4" data-number="4.0.1"><h4 data-number="4.0.1" id="read">
<span class="header-section-number">4.0.1</span> Read<a class="anchor" aria-label="anchor" href="#read"></a>
</h4>
<p>As we have seen, <code>PM_data$new("filename")</code> will read an appropriate data file in the current working directory to create a new <code>PM_data</code> object.</p>
</section><section class="level4" data-number="4.0.2"><h4 data-number="4.0.2" id="save">
<span class="header-section-number">4.0.2</span> Save<a class="anchor" aria-label="anchor" href="#save"></a>
</h4>
<p><code>PM_data$save("filename")</code> will save the <code>PM_data</code> object to a file called “filename”. This can be useful if you have loaded or created a data file and then changed it in R.</p>
</section><section class="level4" data-number="4.0.3"><h4 data-number="4.0.3" id="standardize">
<span class="header-section-number">4.0.3</span> Standardize<a class="anchor" aria-label="anchor" href="#standardize"></a>
</h4>
<p><code>PM_data$new()</code> automatically standardizes the data into the full format. This includes conversion of calendar date / clock time into decimal elapsed time.</p>
</section><section class="level4" data-number="4.0.4"><h4 data-number="4.0.4" id="validate">
<span class="header-section-number">4.0.4</span> Validate<a class="anchor" aria-label="anchor" href="#validate"></a>
</h4>
<p><code>PM_data$new()</code> automatically calls <a href="https://lapkb.github.io/Pmetrics/reference/PMcheck.html" class="external-link"><code>PMcheck</code></a> so the data are validated as the data object is created.</p>
</section><section class="level4" data-number="4.0.5"><h4 data-number="4.0.5" id="data-conversion">
<span class="header-section-number">4.0.5</span> Data conversion<a class="anchor" aria-label="anchor" href="#data-conversion"></a>
</h4>
<ul>
<li><p><code><a href="../reference/PMwrk2csv.html">PMwrk2csv()</a></code> This function will convert old-style, single-drug USC*PACK .wrk formatted files into Pmetrics data .csv files. <!-- -   `PMmb2csv()` This function will convert USC\*PACK .mb files into Pmetrics data .csv files. --></p></li>
<li><p><code><a href="../reference/NM2PM.html">NM2PM()</a></code> Although the structure of Pmetrics data files is similar to NONMEM, there are some differences. This function attempts to automatically convert to Pmetrics format. It has been tested on several examples, but there are probably NONMEM files which will cause it to crash.</p></li>
</ul></section></section><section class="level2" data-number="5"><h2 data-number="5" id="examples">
<span class="header-section-number">5</span> Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>Let’s start by setting the working directory to where the data files are located. This is usually the “src” folder, but it can be anywhere you like. The working directory we want to move to can be specified as an absolute path or as a relative path.</p>
<div class="cell" data-code-copy="false">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># absolute</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"full path to 'src' folder here"</span><span class="op">)</span> </span>
<span><span class="co"># relative, if `src` is a subfolder of the current working directory</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"src"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List the files inside the current working directory </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<p><strong>Pmetrics</strong> comes with an example dataset called <code>dataEx</code> already loaded. You can practice with it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Save it to your current working directory</span></span>
<span><span class="va">dataEx</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="st">"ex.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save it to elsewhere</span></span>
<span><span class="va">dataEx</span><span class="op">$</span><span class="fu">save</span><span class="op">(</span><span class="st">"/mypath/ex.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load it again from current working directory or from elsewhere</span></span>
<span><span class="va">exData</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/PM_data.html">PM_data</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"ex.csv"</span><span class="op">)</span></span>
<span><span class="va">exData</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/PM_data.html">PM_data</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"/mypath/ex.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>You can look at the <code>ex.csv</code> file directly by opening from your hard drive it in a spreadsheet program like Excel, or a text editor.</p>
<p><code>exData</code> is an R6 object, which means that contains both data and methods to process that data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># See the contents of the object</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">exData</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "nca"             ".__enclos_env__" "summary"         "auc"            </span></span>
<span><span class="co">#&gt;  [5] "addEvent"        "post"            "clone"           "initialize"     </span></span>
<span><span class="co">#&gt;  [9] "standard_data"   "save"            "print"           "plot"           </span></span>
<span><span class="co">#&gt; [13] "data"            "pop"</span></span></code></pre></div>
</div>
<p>The first element is an artifact of the R6 class. The remaining elements are documented in the help for <a href="https://lapkb.github.io/Pmetrics/reference/PM_data.html" class="external-link"><code>PM_data</code></a>. You can of course inspect the data directly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Your original data (first few rows)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">exData</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id time dose   out   wt africa age gender height</span></span>
<span><span class="co">#&gt; 1  1    0  600    NA 46.7      1  21      1    160</span></span>
<span><span class="co">#&gt; 2  1   24  600    NA 46.7      1  21      1    160</span></span>
<span><span class="co">#&gt; 3  1   48  600    NA 46.7      1  21      1    160</span></span>
<span><span class="co">#&gt; 4  1   72  600    NA 46.7      1  21      1    160</span></span>
<span><span class="co">#&gt; 5  1   96  600    NA 46.7      1  21      1    160</span></span>
<span><span class="co">#&gt; 6  1  120   NA 10.44 46.7      1  21      1    160</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># See the standardized data nicely formatted in the viewer (truncated for brevity)</span></span>
<span><span class="va">exData</span></span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" style="width:100%;">
<colgroup>
<col style="width: 3%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 5%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 7%">
<col style="width: 7%">
</colgroup>
<thead><tr class="header">
<th style="text-align: right;">id</th>
<th style="text-align: right;">evid</th>
<th style="text-align: right;">time</th>
<th style="text-align: right;">dur</th>
<th style="text-align: right;">dose</th>
<th style="text-align: left;">addl</th>
<th style="text-align: left;">ii</th>
<th style="text-align: right;">input</th>
<th style="text-align: right;">out</th>
<th style="text-align: right;">outeq</th>
<th style="text-align: left;">cens</th>
<th style="text-align: left;">c0</th>
<th style="text-align: left;">c1</th>
<th style="text-align: left;">c2</th>
<th style="text-align: left;">c3</th>
<th style="text-align: right;">wt</th>
<th style="text-align: right;">africa</th>
<th style="text-align: right;">age</th>
<th style="text-align: right;">gender</th>
<th style="text-align: right;">height</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">600</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">46.7</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">160</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">600</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">46.7</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">160</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">600</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">46.7</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">160</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">600</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">46.7</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">160</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">600</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">46.7</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">160</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">10.44</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">none</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">46.7</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">160</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>A method exists for all Pmetrics objects to summarize them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">exData</span><span class="op">$</span><span class="fu">summary</span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Data Summary ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Number of subjects: 20</span></span>
<span><span class="co">#&gt; Number of inputs: 1</span></span>
<span><span class="co">#&gt; Number of outputs: 1</span></span>
<span><span class="co">#&gt; Covariates: wt, africa, age, gender, and height</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Inputs: Mean (SD), Min to Max ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of doses per subject: 6.000 (0.000), 6.000 to 6.000</span></span>
<span><span class="co">#&gt; Dose amount per subject: 585.000 (45.189), 450.000 to 600.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Outputs: Mean (SD), Min to Max ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Total across all subjects: 139, with 0 (0.000%) missing.</span></span>
<span><span class="co">#&gt; Number per subject: 6.950 (0.224), 6 to 7</span></span>
<span><span class="co">#&gt; Value per subject: 7.241 (3.799), 1.860 to 20.150</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Population level covariates: Mean (SD), Min to Max ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; wt: 54.538 (7.173), 43.000 to 66.500</span></span>
<span><span class="co">#&gt; africa: 1.000 (0.000), 1.000 to 1.000</span></span>
<span><span class="co">#&gt; age: 27.035 (7.717), 19.000 to 54.000</span></span>
<span><span class="co">#&gt; gender: 0.749 (0.434), 0.000 to 1.000</span></span>
<span><span class="co">#&gt; height: 167.792 (7.562), 150.000 to 181.000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Note: See `?summary.PM_data()` for more summary options using `formula`.</span></span></code></pre></div>
</div>
<p>The older S3 method to summarize will also work, but is less preferred: <code>summary(exData)</code>.</p>
</section><section class="level2 unnumbered" data-number="6"><h2 class="unnumbered" data-number="6" id="citations">
<span class="header-section-number">6</span> Citations<a class="anchor" aria-label="anchor" href="#citations"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-bealWaysFitPK2001a" class="csl-entry" role="listitem">
Beal, S. L. 2001. <span>“<a href="https://www.ncbi.nlm.nih.gov/pubmed/11768292" class="external-link">Ways to Fit a <span>PK</span> Model with Some Data Below the Quantification Limit.</a>”</span> <em>Journal of Pharmacokinetics and Pharmacodynamics</em> 28 (5): 481–504.
</div>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Neely, Julián Otálvaro, Markus Hößvd.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
