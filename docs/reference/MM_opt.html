<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Computes 1 to 4 MM-optimal sampling times."><title>Compute MM-optimal Sample Times — MM_opt • Pmetrics</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute MM-optimal Sample Times — MM_opt"><meta property="og:description" content="Computes 1 to 4 MM-optimal sampling times."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Pmetrics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Compute MM-optimal Sample Times</h1>
      
      <div class="d-none name"><code>MM_opt.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes 1 to 4 MM-optimal sampling times.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">MM_opt</span><span class="op">(</span></span>
<span>  <span class="va">poppar</span>,</span>
<span>  <span class="va">model</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  nsamp <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  weight <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>none <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  predInt <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  outeq <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>poppar</dt>
<dd><p>An object of class <em>PMfinal</em> (see <code><a href="makeFinal.html">makeFinal</a></code>)</p></dd>


<dt>model</dt>
<dd><p>Name of a suitable model file template in the working directory.
The default is “model.txt”.  This file will be converted to a fortran model file.
If it is detected to already be a fortran file, then the simulation will proceed without any further
file conversion.</p></dd>


<dt>data</dt>
<dd><p>Either a PMmatrix object previously loaded with (<code><a href="PMreadMatrix.html">PMreadMatrix</a></code>) or character vector with the filename of a Pmetrics matrix file
that contains template regimens and observation times.  The value for outputs can be coded as
any number(s) other than -99.  The number(s) will be replaced in the simulator output with the simulated values.</p></dd>


<dt>nsamp</dt>
<dd><p>The number of MM-optimal sample times to compute; default is 1, but can be up to 4.  Values &gt;4 will be capped at 4.</p></dd>


<dt>weight</dt>
<dd><p>List whose names indicate the type of weighting, and values indicate the
relative weight. Values should sum to 1.  Names can be any of the following:</p><ul><li><p><code>none</code> The default. MMopt times will be chosen to maximally discriminate all responses at all times.</p></li>
<li><p><code>AUC</code> MMopt times will be chosen to maximally discriminate AUC, regardless of the shape of the response profile.</p></li>
<li><p><code>max</code> MMopt times will be chosen to maximally discriminate maximum, regardless of the shape of the response profile.</p></li>
<li><p><code>min</code> MMopt times will be chosen to maximally discriminate minimum, regardless of the shape of the response profile.</p></li>
</ul><p>Any combination of AUC, max, and min can be chosen.  If “none” is specified, other
weight types will be ignored and the relative value will be set to 1.
For example,<code>list(auc=0.5,max=0.5)</code> or <code>auc=0.2,min=0.8</code>.</p></dd>


<dt>predInt</dt>
<dd><p>The interval in fractional hours for simulated predicted outputs at times other than those specified in the template <code>data</code>.
The default is 0.5, which means there will be simulated outputs every 30 minutes from time 0 up
to the maximal time in the template file.  You may also specify <code>predInt</code>
as a vector of 3 values, e.g. <code>c(1,4,1)</code>, similar to the R command <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></code>, where the
first value is the start time, the second is the stop time, and the third is the
step value.  Outputs for times specified in the template file will also be simulated.
To simulate outputs <em>only</em> at the output times in the template data (i.e. EVID=0 events), use <code>predInt=0</code>.
Note that the maximum number of predictions total is 594, so the interval must be sufficiently large to accommodate this for a given
number of output equations and total time to simulate over.  If <code>predInt</code> is set so that this cap is exceeded, predictions will be truncated.</p></dd>


<dt>outeq</dt>
<dd><p>Output equation to optimize</p></dd>


<dt>...</dt>
<dd><p>Other parameters to pass to <code><a href="SIMrun.html">SIMrun</a></code>, which are not usually necessary.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A object of class <em>MMopt</em> with 3 items.</p>
<dl><dt>sampleTime </dt>
<dd><p>The MM-optimal sample times</p></dd>

<dt>bayesRisk </dt>
<dd><p>The Bayesian risk of mis-classifying a subject based on the sample times.  This
is more useful for comparisons between sampling strategies, with minimization the goal.</p></dd>

<dt>simdata </dt>
<dd><p>A <em>PMsim</em> object with the simulated profiles</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Based on the mulitple-model optimization algorithm developed by David Bayard and presented at the 2012 American
College of Clinical Pharmacology Meeting and the 2013 International Association of Therapeutic
Drug Monitoring and Clinical Toxicology meeting.  A manuscript is in preparation.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="SIMrun.html">SIMrun</a></code>, <code><a href="plot.MMopt.html">plot.MMopt</a></code>, <code><a href="print.MMopt.html">print.MMopt</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Michael Neely</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Michael Neely, Julián Otálvaro.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

