<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
PM_data R6 objects containing raw, standardized and valid data, and methods
to process the data"><title>Defines the PM_data object — PM_data • Pmetrics</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Defines the PM_data object — PM_data"><meta property="og:description" content="
PM_data R6 objects containing raw, standardized and valid data, and methods
to process the data"><meta property="og:image" content="https://lapkb.github.io/Pmetrics/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Pmetrics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/pmetrics.html">Start Here</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/intro.html">Introduction</a>
    <a class="dropdown-item" href="../articles/overview.html">Overview</a>
    <a class="dropdown-item" href="../articles/workflow.html">Workflow</a>
    <a class="dropdown-item" href="../articles/data.html">Data Objects</a>
    <a class="dropdown-item" href="../articles/models.html">Model Objects</a>
    <a class="dropdown-item" href="../articles/running.html">Running the fit</a>
    <a class="dropdown-item" href="../articles/objects.html">Created Objects</a>
    <a class="dropdown-item" href="../articles/simulation.html">Simulation</a>
    <a class="dropdown-item" href="../articles/plotly.html">Plotly plots</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/LAPKB/Pmetrics/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Defines the PM_data object</h1>
      <small class="dont-index">Source: <a href="https://github.com/LAPKB/Pmetrics/blob/HEAD/R/PM_data.R" class="external-link"><code>R/PM_data.R</code></a></small>
      <div class="d-none name"><code>PM_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a></p>
<p>PM_data R6 objects containing raw, standardized and valid data, and methods
to process the data</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><em>PM_data</em> objects are passed to <a href="PM_fit.html">PM_fit</a> objects to initiate a
population analysis. The object is created by reading a delimited file in
the current working directory. The data will be transformed into the standard
format which is the same for all engines, with a report of any assumptions
that were necessary to standardize the data. <a href="PMcheck.html">PMcheck</a> is called
on the standard data to evaluate for errors. If dates and times are converted
to relative decimal times in the standard data, automatic detection of the correct
format will be attempted using <code><a href="https://lubridate.tidyverse.org/reference/parse_date_time.html" class="external-link">lubridate::parse_date_time()</a></code>. In the case of failure
due to an unusual format, use the 'dt' argument to specify the correct format in your
data. In the case of successful automatic detection, the format used will be
included in the standardization report generated upon creation of a new <em>PM_data</em>
object. Check carefully to make sure the correct format was chosen. Note that if
your clock times did not include seconds, they were appended as ":00" to the end
of each time and will appear that way in the copy of the original data.</p>
<p>There are a number of methods
defined for a PM_data object, including to write the standard data back
to a file for future use, to summarize and to plot the object, to
conduct a non-compartmental analysis on the raw data using
<a href="makeNCA.html">makeNCA</a>, to calculate an AUC using <a href="makeAUC.html">makeAUC</a>, and to add event rows, which
is particularly useful for making simulation templates on the fly.</p>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>data</code></dt>
<dd><p>Data frame containing the data to be modeled</p></dd>


<dt><code>standard_data</code></dt>
<dd><p>Data frame containing standardized version of the data</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-PM_data-new"><code>PM_data$new()</code></a></p></li>
<li><p><a href="#method-PM_data-write"><code>PM_data$write()</code></a></p></li>
<li><p><a href="#method-PM_data-auc"><code>PM_data$auc()</code></a></p></li>
<li><p><a href="#method-PM_data-nca"><code>PM_data$nca()</code></a></p></li>
<li><p><a href="#method-PM_data-plot"><code>PM_data$plot()</code></a></p></li>
<li><p><a href="#method-PM_data-print"><code>PM_data$print()</code></a></p></li>
<li><p><a href="#method-PM_data-summary"><code>PM_data$summary()</code></a></p></li>
<li><p><a href="#method-PM_data-addEvent"><code>PM_data$addEvent()</code></a></p></li>
<li><p><a href="#method-PM_data-clone"><code>PM_data$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-PM_data-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create new data object</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/PM_data.html">PM_data</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>data <span class="op">=</span> <span class="cn">NULL</span>, dt <span class="op">=</span> <span class="cn">NULL</span>, quiet <span class="op">=</span> <span class="cn">FALSE</span>, validate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>data</code></dt>
<dd><p>A quoted name of a file with full path if not
in the working directory, or an unquoted name of a data frame
in the current R environment.</p></dd>


<dt><code>dt</code></dt>
<dd><p>Pmetrics will try a variety of date/time formats. If all 16 of
them fail, use this parameter to specify the correct format as a
character vector whose
first element is date format and second is time. Use the following abbreviations:</p><ul><li><p>Y = 4 digit year</p></li>
<li><p>y = 2 digit year</p></li>
<li><p>m = decimal month (1, 2, ..., 12)</p></li>
<li><p>d = decimal day (1, 2, ..., 31)</p></li>
<li><p>H = hours (0-23)</p></li>
<li><p>M = minutes (0-59)
Example: <code>format = c("myd", "mh")</code>. Not one of the tried combinations!
Always check to make sure that dates/times were parsed correctly and the
relative times in the <code>PM_data$standard_data</code> field look correct.
Other date/time formats are possible. See <code><a href="https://lubridate.tidyverse.org/reference/parse_date_time.html" class="external-link">lubridate::parse_date_time()</a></code> for these.</p></li>
</ul></dd>


<dt><code>quiet</code></dt>
<dd><p>Quietly validate. Default is <code>FALSE</code>.</p></dd>


<dt><code>validate</code></dt>
<dd><p>Check for errors. Default is <code>TRUE</code>. Strongly recommended.</p></dd>


<dt><code>...</code></dt>
<dd><p>Arguments to be passed further</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p>Creation of a new <code>PM_data</code> objects from a file or
a data frame. Data will be standardized and checked
automatically to a fully specified, valid data object.</p>
</div>


</div><p></p><hr><a id="method-PM_data-write"></a><div class="section">
<h3 id="method-write-">Method <code><a href="https://rdrr.io/r/base/write.html" class="external-link">write()</a></code><a class="anchor" aria-label="anchor" href="#method-write-"></a></h3>
<p>Write data to file</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PM_data</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="va">file_name</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>file_name</code></dt>
<dd><p>A quoted name of the file to create
with full path if not
in the working directory.</p></dd>


<dt><code>...</code></dt>
<dd><p>Arguments passed to <a href="PMwriteMatrix.html">PMwriteMatrix</a></p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p>Writes a delimited file (e.g. comma-separated)
from the <code>standard_data</code> field</p>
</div>


</div><p></p><hr><a id="method-PM_data-auc"></a><div class="section">
<h3 id="method-auc-">Method <code>auc()</code><a class="anchor" aria-label="anchor" href="#method-auc-"></a></h3>
<p>Calculate AUC</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PM_data</span><span class="op">$</span><span class="fu">auc</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Arguments passed to <a href="makeAUC.html">makeAUC</a>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-3">Details<a class="anchor" aria-label="anchor" href="#details-3"></a></h4>
<p>See <a href="makeAUC.html">makeAUC</a>.</p>
</div>


</div><p></p><hr><a id="method-PM_data-nca"></a><div class="section">
<h3 id="method-nca-">Method <code>nca()</code><a class="anchor" aria-label="anchor" href="#method-nca-"></a></h3>
<p>Perform non-compartmental analysis</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PM_data</span><span class="op">$</span><span class="fu">nca</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Arguments passed to <a href="makeNCA.html">makeNCA</a>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-4">Details<a class="anchor" aria-label="anchor" href="#details-4"></a></h4>
<p>See <a href="makeNCA.html">makeNCA</a>.</p>
</div>


</div><p></p><hr><a id="method-PM_data-plot"></a><div class="section">
<h3 id="method-plot-">Method <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code><a class="anchor" aria-label="anchor" href="#method-plot-"></a></h3>
<p>Plot method</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PM_data</span><span class="op">$</span><span class="fu">plot</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Arguments passed to <a href="plot.PM_data.html">plot.PM_data</a></p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-5">Details<a class="anchor" aria-label="anchor" href="#details-5"></a></h4>
<p>See <a href="plot.PMmatrix.html">plot.PMmatrix</a>.</p>
</div>


</div><p></p><hr><a id="method-PM_data-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Print method</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PM_data</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span>standard <span class="op">=</span> <span class="cn">F</span>, viewer <span class="op">=</span> <span class="cn">T</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>standard</code></dt>
<dd><p>Display the standardized data if <code>TRUE</code>.
Default is <code>FALSE</code>.</p></dd>


<dt><code>viewer</code></dt>
<dd><p>Display the Viewer if <code>TRUE</code>.
Default is <code>TRUE</code>.</p></dd>


<dt><code>...</code></dt>
<dd><p>Other arguments to <a href="https://rdrr.io/r/base/print.dataframe.html" class="external-link">print.data.frame</a>. Only
passed if <code>viewer = FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-6">Details<a class="anchor" aria-label="anchor" href="#details-6"></a></h4>
<p>Displays the PM_data object in a variety of ways.</p>
</div>


</div><p></p><hr><a id="method-PM_data-summary"></a><div class="section">
<h3 id="method-summary-">Method <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code><a class="anchor" aria-label="anchor" href="#method-summary-"></a></h3>
<p>Summary method</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PM_data</span><span class="op">$</span><span class="fu">summary</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Arguments passed to <a href="summary.PMmatrix.html">summary.PMmatrix</a>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-7">Details<a class="anchor" aria-label="anchor" href="#details-7"></a></h4>
<p>See <a href="summary.PMmatrix.html">summary.PMmatrix</a>.</p>
</div>


</div><p></p><hr><a id="method-PM_data-addEvent"></a><div class="section">
<h3 id="method-addevent-">Method <code>addEvent()</code><a class="anchor" aria-label="anchor" href="#method-addevent-"></a></h3>
<p>Add events to PM_data object</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PM_data</span><span class="op">$</span><span class="fu">addEvent</span><span class="op">(</span><span class="va">...</span>, dt <span class="op">=</span> <span class="cn">NULL</span>, quiet <span class="op">=</span> <span class="cn">FALSE</span>, validate <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Column names and values.</p></dd>


<dt><code>dt</code></dt>
<dd><p>Pmetrics will try a variety of date/time formats. If all 16 of
them fail, use this parameter to specify the correct format as a
character vector whose
first element is date format and second is time. Use the following abbreviations:</p><ul><li><p>Y = 4 digit year</p></li>
<li><p>y = 2 digit year</p></li>
<li><p>m = decimal month (1, 2, ..., 12)</p></li>
<li><p>d = decimal day (1, 2, ..., 31)</p></li>
<li><p>H = hours (0-23)</p></li>
<li><p>M = minutes (0-59)
Example: <code>format = c("myd", "mh")</code>. Not one of the tried combinations!
Always check to make sure that dates/times were parsed correctly and the
relative times in the <code>PM_data$standard_data</code> field look correct.
Other date/time formats are possible. See <code><a href="https://lubridate.tidyverse.org/reference/parse_date_time.html" class="external-link">lubridate::parse_date_time()</a></code> for these.</p></li>
</ul></dd>


<dt><code>quiet</code></dt>
<dd><p>Quietly validate. Default is <code>FALSE</code>.</p></dd>


<dt><code>validate</code></dt>
<dd><p>Validate the new row or not. Default is <code>FALSE</code> as a new row
added to a blank will result in a one-row data object, which is invalid. Also,
only one event type (dose or observation) should be added at a time, so if the
new object contains only doses while building, this would cause an error. You
should set <code>validate = TRUE</code> for the final addition.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-8">Details<a class="anchor" aria-label="anchor" href="#details-8"></a></h4>
<p>Add lines to a PM_data object by supplying named columns and values.
<code>ID</code> is always required. <code>Time</code> is handled differently depending on
the sequence of <code>addEvent</code> calls (see <strong>Chaining</strong> below).</p><ul><li><p>It is required for the first call to <code>addEvent</code> and should be 0.
For example: For example: <code>dat &lt;- PM_data$new()$addEvent(id = 1, time = 0, dose = 100, addl = 5, ii = 24)</code></p></li>
<li><p>For subsequent calls to <code>addEvent</code> with specific times it should be included.
For example: <code>dat &lt;- PM_data$new()$addEvent(id = 1, time = 0, dose = 100, addl = 5, ii = 24)$addEvent(id = 1, time = 144, out = -1)</code>
Here, because <code>out</code> wasn't in the original call <em>and</em> the next call contains a value for
<code>time</code>, an <code>out</code> value of -1 will be added at time 144 and <code>out</code> will be set to <code>NA</code> for all the
previous rows.</p></li>
<li><p>In contrast, the behavior is different if you omit <code>time</code> when your
data object already has rows. In this case
the arguments in the call to <code>addEvent</code> (without a value for <code>time</code>)
will add those arguments as columns in the prior data with the specified value
or <em>replace</em> values in those columns if they
already exist.  Be sure this is what you want.
For example, building on the prior example: <code>dat$addEvent(id = 1, dur = 0.5)</code>.
Note that we can chain to the previously created <code>dat</code> object. Here, a duration of 0.5 hours
will be added to every previous row in <code>dat</code> to create the new <code>dat</code> object, but no new
row is added since there is no <code>time</code> associated with it.</p></li>
</ul><p>Adding covariates is supported, but since valid subject records in Pmetrics
with covariates must contain non-missing values at time 0, covariates should
be included with the first call to <code>$addEvent()</code>.</p>
<p>As we have seen in the examples above, <code>ADDL</code> and <code>II</code> are supported.</p>
<p><strong>Chaining</strong> Multiple <code>$addEvent()</code> calls can be chained with <code>PM_data$new()</code>
to create a blank data object and then add rows.
This can be particularly useful for creating simulation templates.
See the example.</p>
</div>

<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/PM_data.html">PM_data</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="fu">addEvent</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span>, time <span class="op">=</span> <span class="fl">0</span>, dose <span class="op">=</span> <span class="fl">100</span>, addl <span class="op">=</span> <span class="fl">4</span>, ii <span class="op">=</span> <span class="fl">12</span>,</span>
<span>out <span class="op">=</span> <span class="cn">NA</span>, wt <span class="op">=</span> <span class="fl">75</span><span class="op">)</span><span class="op">$</span><span class="fu">addEvent</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span>, time <span class="op">=</span> <span class="fl">60</span>, out <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-PM_data-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PM_data</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `PM_data$addEvent`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">PM_data</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="fu">addEvent</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span>, time <span class="op">=</span> <span class="fl">0</span>, dose <span class="op">=</span> <span class="fl">100</span>, addl <span class="op">=</span> <span class="fl">4</span>, ii <span class="op">=</span> <span class="fl">12</span>,</span></span>
<span class="r-in"><span>out <span class="op">=</span> <span class="cn">NA</span>, wt <span class="op">=</span> <span class="fl">75</span><span class="op">)</span><span class="op">$</span><span class="fu">addEvent</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span>, time <span class="op">=</span> <span class="fl">60</span>, out <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Michael Neely, Julián Otálvaro.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

